<script setup>
import { ref, watch } from 'vue'
const arr = new Array(10000)
const animalType = {
  mie: 'ðŸ',
  mo: 'ðŸ‚',
  miao: 'ðŸ±',
}
const cry = ref('mie')
const shouldUpdate = ref(0)
//` éœ€æ±‚ï¼šåªæœ‰æˆåŠŸè¾“å…¥å‘½ä¸­æä¾›çš„ä¸‰ç§å«å£° æ‰æœ‰èµ„æ ¼æ›´æ–°æ•°æ®
//` æ€è·¯  v-memo
watch(cry, (newVal) => {
  if (Object.keys(animalType).includes(newVal)) {
    shouldUpdate.value++
  }
})
</script>

<template>
  <div>
    <input type="text" v-model="cry" />
    <!-- åªæœ‰åœ¨shouldUpdateå˜åŒ–æ—¶æ‰ä¼šè¿›è¡Œæ›´æ–° -->
    <ul v-memo="[shouldUpdate]">
      <li v-for="(item, index) in arr" :key="index">
        {{ cry }}-{{ animalType[cry] }}
      </li>
    </ul>
  </div>
</template>

<style scoped>
ul {
  display: flex;
  flex-wrap: wrap;
}
ul li {
  list-style: none;
  margin: 30px;
}
</style>
